document.addEventListener("DOMContentLoaded",function(){"use strict";(function(a){a(window).on("load",function(){if(a("body").hasClass("slug-calendar")){function i(j,k){var l=new Date(j,k+1,0).getDate(),m=new Date(j,k,1).getDay(),o=new Date(j,k,l).getDay(),p=document.createElement("div");p.classList.add("header"),p.textContent=new Date(j,k).toLocaleDateString("en-US",{month:"long",year:"numeric"});var q=document.createElement("div");q.classList.add("titles"),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach(function(a){var b=document.createElement("div");b.setAttribute("id","title-"+a),"true"==abbr_days?(b.classList.add("title","title-abbr"),b.textContent=a.substring(0,3)):(b.classList.add("title","title-full"),b.innerHTML="<span class=\"hide-1 hide-2\">"+a+"</span><span class=\"hide-3 hide-4 hide-5\">"+a.substring(0,3)+"</span>"),q.appendChild(b)});var r,s,t=document.createElement("div");for(t.classList.add("body"),r=0;r<m;r++)s=document.createElement("div"),s.classList.add("day","day-empty"),t.appendChild(s);for(r=1;r<=l;r++){var u="";s=document.createElement("div"),s.classList.add("day"),s.setAttribute("id","day-"+r),r===f.getDate()&&k===f.getMonth()&&j===f.getFullYear()&&s.classList.add("current-day");for(var v,w=0;w<eventLog.length;w++)v=eventLog[w],v.date==r+", "+(k+1)+", "+j&&(u+=v.event,s.classList.add("event-day"));s.innerHTML="<div class=\"date\">"+r+"</div>"+u,t.appendChild(s)}for(r=o+1;6>=r;r++)s=document.createElement("div"),s.classList.add("day"),t.appendChild(s);b.innerHTML="",b.appendChild(p),b.appendChild(q),b.appendChild(t),c.textContent=new Date(j,k-1).toLocaleDateString("en-US",{month:"long",year:"numeric"}),d.textContent=new Date(j,k+1).toLocaleDateString("en-US",{month:"long",year:"numeric"}),f.getMonth()!=g||f.getFullYear()!=h?(e.textContent="Return to "+new Date(f.getFullYear(),f.getMonth()).toLocaleDateString("en-US",{month:"long",year:"numeric"}),a("#currentButton").fadeIn()):(a("#currentButton").fadeOut(),e.textContent="")}var b=document.getElementById("calendar"),c=document.getElementById("prevButton"),d=document.getElementById("nextButton"),e=document.getElementById("currentButton"),f=new Date,g=f.getMonth(),h=f.getFullYear();i(f.getFullYear(),f.getMonth()),c.addEventListener("click",function(){g--,0>g&&(g=11,h--),i(h,g)}),d.addEventListener("click",function(){g++,11<g&&(g=0,h++),i(h,g)}),e.addEventListener("click",function(){g=f.getMonth(),h=f.getFullYear(),i(h,g)})}a("#show-expired").on("change",function(){var b=a(".col.expired");a(this).is(":checked")?(b.fadeIn(),setCookie("ecal-show-exp","true",365)):(b.fadeOut(),setCookie("ecal-show-exp","false",365))}),"true"==getCookie("ecal-show-exp")&&(a("#show-expired").prop("checked",!0),expiredEvents.fadeIn())})})(jQuery)});
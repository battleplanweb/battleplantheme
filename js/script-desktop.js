document.addEventListener("DOMContentLoaded",function(){"use strict";!function(t){var e=site_dir.upload_dir_uri;if(window.parallaxBG=function(i,n,o,a,d,s,r,l){d=d||"center",s=s||"center",r=r||20,l=l||3;var u=t(i),c=a/u.outerHeight()/l;u.parallax({imageSrc:e+"/"+n,speed:c,bleed:r,naturalWidth:o,naturalHeight:a,positionX:d,positionY:s})},window.parallaxDiv=function(e,i){function n(){t(e).each(function(){if(t(this).find(i).length>0){var e=t(this).find(i),n=e.outerHeight(),o=t(this).outerHeight(),a=t(this).offset().top,d=a+o,s=t(window).height(),r=t(window).scrollTop(),l=r+s,u=(l-a)/(o+s);u>1&&(u=1),(u<0||null==u)&&(u=0);var c=(o-n)*u;a<l&&d>r&&e.css("margin-top",c+"px")}})}i=i||".parallax",window.addEventListener("scroll",function(){n()}),n()},window.magicMenu=function(e,i,n,o){i=i||"active",n=n||"non-active",o=o||"false";var a,d,s,r,l,u,c=t(e=e||"#desktop-navigation .menu"),h=c.parent().parent(),g="horizontal";h.hasClass("widget")&&(g="vertical"),h.prepend("<div id='magic-line'></div>"),h.prepend("<div id='off-screen' class='"+g+"'></div>");var m=t("#magic-line"),f=t("#off-screen");if((d=c.find("li.current-menu-parent").length?c.find("li.current-menu-parent"):c.find("li.current-menu-item")).length&&!d.hasClass("mobile-only")||(d=f),d.find(">a").addClass(i),window.setMagicMenu=function(){"horizontal"==g?(r=Math.round(d.position().left+(d.outerWidth()-d.width())/2),s=Math.round(d.position().top),l=Math.round(d.width()),u=Math.round(m.data("origH"))):(r=Math.round(parseInt(d.parent().css("padding-left"))),s=Math.round(d.position().top),l=Math.round(m.data("origW")),u=Math.round(d.height())),m.css({transform:"translate("+r+"px, "+s+"px)",width:l,height:u}).data("origT",s).data("origL",r).data("origW",l).data("origH",u),m.delay(250).animate({opacity:1},0);var e=[],o=[],h=[],f=[];t("#desktop-navigation ul.main-menu > .menu-item, .widget-navigation .menu-item").each(function(){var i=t(this);"horizontal"==g?(e.push(Math.round(i.position().top)),o.push(Math.round(i.position().left+(i.outerWidth()-i.width())/2)),h.push(Math.round(i.width())),f.push(Math.round(m.data("origH")))):(e.push(Math.round(i.position().top)),o.push(Math.round(parseInt(i.parent().css("padding-left")))),h.push(Math.round(m.data("origW"))),f.push(Math.round(i.height())))}),c.find(" > li").hover(function(){var s=(a=t(this)).index();m.css({transform:"translate("+o[s]+"px, "+e[s]+"px)",width:h[s],height:f[s]}),d.find(">a").removeClass(i).addClass(n),a.find(">a").addClass(i).removeClass(n)},function(){m.css({transform:"translate("+m.data("origL")+"px, "+m.data("origT")+"px)",width:m.data("origW"),height:m.data("origH")}),a.find(">a").removeClass(i).addClass(n),d.find(">a").addClass(i).removeClass(n)})},"true"==o){var w,p,v,C=h.find(".flex").position().left,b=h.find(".flex").width(),M=d.position().left-C;h.find("li").mouseover(function(){M=t(this).position().left-C,magicColor(M)}),h.find(".flex").mouseout(function(){M=d.position().left-C,magicColor(M)}),window.magicColor=function(e){w=e+m.width()/2,p=w/b,v=m.position().left-C,p<.33&&t("body").removeClass("menu-alt-2").removeClass("menu-alt-3").addClass("menu-alt-1"),p>=.33&&p<.66&&t("body").removeClass("menu-alt-1").removeClass("menu-alt-3").addClass("menu-alt-2"),p>=.66&&t("body").removeClass("menu-alt-1").removeClass("menu-alt-2").addClass("menu-alt-3"),w<=v?t("body").addClass("menu-dir-l").removeClass("menu-dir-r"):t("body").addClass("menu-dir-r").removeClass("menu-dir-l")},magicColor(M)}setTimeout(function(){setMagicMenu()},500),t(window).resize(function(){setMagicMenu()})},window.splitMenu=function(e,i,n){i=i||".logo img",n=n||0;var o=t(e=e||"#desktop-navigation").find(".flex"),a=t(e).find("ul.menu"),d=t(i).outerWidth()+n,s=a.width()/2,r=0;a.children().each(function(){(r+=t(this).outerWidth())<s&&t(this).addClass("left-menu"),r>s&&t(this).addClass("right-menu")}),addDiv(o,'<div class="split-menu-r"></div>',"before"),addDiv(o,'<div class="split-menu-l"></div>',"before"),moveDiv(a,".split-menu-l","inside"),cloneDiv(a,".split-menu-r","inside"),t(".split-menu-l ul.menu").attr("id",t(".split-menu-l ul.menu").attr("id")+"-l"),t(".split-menu-r ul.menu").attr("id",t(".split-menu-r ul.menu").attr("id")+"-r"),t(".split-menu-l").find("li.right-menu").remove(),t(".split-menu-r").find("li.left-menu").remove(),o.css({"grid-column-gap":d+"px"})},window.addMenuLogo=function(e,i){t(i=i||"#desktop-navigation").addClass("menu-with-logo"),addDiv(".menu-with-logo",'<div class="menu-logo"><img src = "'+e+'" alt=""></div>',"before"),t(".menu-with-logo .menu-logo").height(t(".menu-with-logo").height()),linkHome(".menu-logo")},window.setupSidebar=function(e,i,n){i=i||"true",n=n||"true",e=e||0,window.arrangeWidgets=function(e){var i,o,a,d,s=e.length,r=e.parent(),l=[];for(i=0;i<s;i++)l.push(i);if("true"==n)for(i=0;i<s;i++)o=Math.random()*s|0,a=Math.random()*s|0,d=l[o],l[o]=l[a],l[a]=d;for(e.detach(),i=0;i<s;i++)r.append(e.eq(l[i]));var u=t(".widget.lock-to-bottom").detach();r.append(u)},window.checkHeights=function(){var i=t("#primary").outerHeight(),n=t(window).outerHeight(),o=t("#secondary .sidebar-inner").outerHeight()+parseInt(t("#secondary").css("padding-top"))+parseInt(t("#secondary").css("padding-bottom"))+e,a=i-o;return t("#wrapper-content").attr("data-primary",Math.round(i)).attr("data-viewport",Math.round(n)).attr("data-widgets",Math.round(o)).attr("data-remain",Math.round(a)),a},t(".widget.lock-to-top, .widget.lock-to-bottom").addClass("locked"),t(".widget:not(.locked)").addClass("shuffle"),arrangeWidgets(t(".shuffle")),window.widgetInit=function(){t("#secondary").css({height:"calc(100% + "+e+"px)"}),t(".widget:not(.widget-important)").addClass("hide-widget"),addWidgets()},window.addWidgets=function(){t(".hide-widget:not(.remove-first)").each(function(){t(this).height()<=checkHeights()&&t(this).removeClass("hide-widget")}),t(".hide-widget").each(function(){t(this).height()<=checkHeights()&&t(this).removeClass("hide-widget")}),t(".widget:not(.hide-widget)").length||t("widget:first-of-type").removeClass("hide-widget"),checkHeights(),labelWidgets()},window.labelWidgets=function(){t(".widget").removeClass("widget-first").removeClass("widget-last").removeClass("widget-even").removeClass("widget-odd"),t(".widget:not(.hide-widget)").first().addClass("widget-first"),t(".widget:not(.hide-widget)").last().addClass("widget-last"),t(".widget:not(.hide-widget):odd").addClass("widget-even"),t(".widget:not(.hide-widget):even").addClass("widget-odd")},window.moveWidgets=function(){if("true"==i){var e,n=t(".sidebar-inner"),o=Number(t("#wrapper-content").attr("data-primary")),a=Number(t("#wrapper-content").attr("data-widgets")),d=Number(t("#wrapper-content").attr("data-viewport")),s=Number(t("#wrapper-content").attr("data-remain")),r=t("#primary").offset().top,l=Number(t(window).scrollTop()),u=l-r;e=l>r?s*(u/(o-d)):0,t(".stuck").each(function(){d-=t(this).outerHeight()}),a<(d-=t(".wp-google-badge").outerHeight())&&(e=u+parseInt(t("#secondary").css("padding-top"))),e>s&&(e=s),e<0&&(e=0),e>0&&e<s&&checkHeights(),n.css({"margin-top":e+"px"})}}},t("body").hasClass("background-image")){var i=new Image;i.onload=function(){animateDiv(".parallax-mirror","fadeIn",0,"",200)},i.onerror=function(){console.log("site-background.jpg not found")},i.src=e+"/site-background.jpg"}t(window).on("load",function(){browserResize(!0)}),t(window).resize(function(){browserResize(!0)}),window.browserResize=function(e){e=e||!1,setTimeout(function(){t(window).trigger("resize.px.parallax"),1==e&&widgetInit(),t("#secondary").length?window.addEventListener("scroll",moveWidgets):window.removeEventListener("scroll",moveWidgets)},300),t(".main-navigation ul.sub-menu").each(function(){var e=t(this).outerWidth(!0),i=t(this).parent().width(),n=-Math.round((e-i)/2);t(this).css({left:n+"px"})})},t(document).mousemove(function(e){t("body").addClass("using-mouse").removeClass("using-keyboard")}),t(document).keydown(function(e){9!=e.keyCode||t("body").hasClass("using-mouse")||t("body").addClass("using-keyboard")}),t("iframe").each(function(){t(this).attr("aria-hidden",!0).attr("tabindex","-1")}),document.addEventListener("keydown",function(t){if(9===t.keyCode){for(var e=document.getElementsByClassName("tab-focus");e[0];)e[0].classList.remove("tab-focus");setTimeout(function(){var t=document.activeElement,e=t.closest(".menu-item");t.classList.add("tab-focus"),null==e?t.scrollIntoView({behavior:"smooth",block:"center"}):(e.classList.add("tab-focus"),t.scrollIntoView({behavior:"smooth",block:"nearest"}))},10)}}),document.addEventListener("mousedown",function(t){var e,i=document.getElementsByClassName("tab-focus");if(i[0])for(e of i)e.classList.remove("tab-focus")})}(jQuery)});